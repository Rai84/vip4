<!-- Overlay de fundo -->
<div id="modalOverlay" class="fixed inset-0 z-40 bg-black bg-opacity-60"></div>

<!-- Modal -->
<div class="fixed z-50 top-1/2 left-1/2 w-[36rem] -translate-x-1/2 -translate-y-1/2 bg-white rounded-xl p-6 shadow-xl text-black">
  <h2 class="mb-4 text-2xl font-semibold">Seu Carrinho</h2>

  <div class="space-y-4 max-h-[300px] overflow-y-auto">
    <div th:each="item, iterStat : ${itens}" class="pb-3 border-b">
      <p class="font-medium" th:text="${item.produto.nomeProduto}">Produto</p>
      <p class="text-sm text-gray-700">
        Quantidade:
        <span th:text="${item.quantidade}">1</span>
        <button class="px-2 py-1 text-white bg-red-500 rounded" 
                th:onclick="'alterarQuantidade(' + ${iterStat.index} + ', ' + (${item.quantidade} - 1) + ')'">-</button>
        <button class="px-2 py-1 text-white bg-green-500 rounded" 
                th:onclick="'alterarQuantidade(' + ${iterStat.index} + ', ' + (${item.quantidade} + 1) + ')'">+</button>
      </p>
      <p>Total: R$ <span th:text="${item.total}">0.00</span></p>
    </div>
  </div>

  <div class="mt-6">
    <label for="freteSelect" class="font-medium">Escolha o frete:</label>
    <select id="freteSelect" onchange="selecionarFrete(this.value)"
      class="w-full p-2 mt-1 border rounded">
      <option value="0.0" th:selected="${frete == 0.0}">Econômico (Grátis)</option>
      <option value="10.0" th:selected="${frete == 10.0}">Padrão - R$10</option>
      <option value="25.0" th:selected="${frete == 25.0}">Expresso - R$25</option>
    </select>
  </div>

  <div class="mt-4 font-semibold text-right">
    Total com frete: R$ <span th:text="${total}">0.00</span>
  </div>

  <div class="flex justify-between mt-6">
    <button onclick="window.location.href='/cliente/modal-checkout'"
      class="px-4 py-2 text-white bg-green-600 rounded hover:bg-green-700">
      Finalizar Pedido
    </button>

    <button onclick="fecharModalCarrinho()"
      class="px-4 py-2 text-white bg-red-500 rounded hover:bg-red-600">
      Fechar
    </button>
  </div>
</div>
